{{#section 'js'}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
<script>
  $(function () {

    $('#editpasswordForm').validate({
      // onkeyup: true,
      rules: {
        username: {
          required: true,
        },
        password: {
          required: true,
        },
        newpassword: {
          required: true,
          minlength: 6
        },
        confirm: {
          required: true,
          equalTo: $('[name="newpassword"]')
        },
      },
      messages: {
        username: {
          required: 'Your username is required.',
        },
        newpassword: {
          required: 'Your password is required.',
          minlength: 'Your password must have at least 6 characters.'
        },
        password: {
          required: 'Your old password is required.',
        },
        confirm: {
          required: 'Your password does not match.',
          equalTo: 'Your password does not match.'
        },
      },
      errorElement: 'small',
      errorClass: 'help-block text-danger',
      validClass: 'is-valid',
      highlight: function (e) {
        $(e).removeClass('is-valid').addClass('is-invalid');
      },
      unhighlight: function (e) {
        $(e).removeClass('is-invalid').addClass('is-valid');
      },
    });
  })
</script>
{{/section}}


<body>
  <div class="container-fluid h-100">
    <div class="row justify-content-center align-items-center h-100">
      <div>
        {{#if err_message}}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          {{err_message}}
        </div>
        {{/if}}
        <div class="card" style="width: 600px">
          <h4 class="card-header">Thay đổi mật khẩu</h4>
          <div class="card-body">
            <form novalidate id="editpasswordForm" method="POST">
              <div class="form-group">
                <input class="form-control form-control-lg border-right-0 border" placeholder="Tên đăng nhập" type="text"
                  name="username" autofocus>
              </div>
              <div class="form-group">
                <input class="form-control form-control-lg border-right-0 border" placeholder="Mật khẩu cũ"
                  type="password" name="password">
              </div>
              <div class="form-group">
                <input class="form-control form-control-lg" placeholder="Mật khẩu mới" type="password"
                  name="newpassword">
              </div>
              <div class="form-group">
                <input class="form-control form-control-lg border-right-0 border" placeholder="Nhập lại mật khẩu mới"
                  type="password" name="confirm">
              </div>

              <div class="form-group d-flex">
                <div class="flex-fill ml-1">
                  <button class="btn btn-lg btn-danger btn-block" type="submit">
                    <i class="fa fa-check" aria-hidden="true"></i>
                    Cập nhật
                  </button>
                </div>
              </div>
            </form>
            <hr style="border-color: #fff;" class="w-50">
          </div>
        </div>
      </div>
    </div>
  </div>

</body>

</html>